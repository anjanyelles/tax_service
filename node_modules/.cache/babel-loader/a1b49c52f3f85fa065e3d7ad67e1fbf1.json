{"ast":null,"code":"import React from\"react\";import{Switch,Route,Redirect}from\"react-router-dom\";import PerfectScrollbar from\"perfect-scrollbar\";import\"perfect-scrollbar/css/perfect-scrollbar.css\";import{makeStyles}from\"@material-ui/core/styles\";import Navbar from\"components/Navbars/Navbar.js\";import Footer from\"components/Footer/Footer.js\";import Sidebar from\"components/Sidebar/Sidebar.js\";import FixedPlugin from\"components/FixedPlugin/FixedPlugin.js\";import{getRoutesByRole}from\"routes\";// ✅ Dynamic role-based routes\nimport styles from\"assets/jss/material-dashboard-react/layouts/rtlStyle.js\";import bgImage from\"assets/img/sidebar-2.jpg\";import logo from\"assets/img/reactlogo.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let ps;const useStyles=makeStyles(styles);export default function RTL(_ref){let{...rest}=_ref;const classes=useStyles();const mainPanel=/*#__PURE__*/React.createRef();const[image,setImage]=React.useState(bgImage);const[color,setColor]=React.useState(\"blue\");const[fixedClasses,setFixedClasses]=React.useState(\"dropdown show\");const[mobileOpen,setMobileOpen]=React.useState(false);const role=sessionStorage.getItem(\"userRole\")||\"employee\";// default fallback\nconst routes=getRoutesByRole(role);// ✅ Role-based routes\nconst switchRoutes=/*#__PURE__*/_jsxs(Switch,{children:[routes.map((prop,key)=>{if(prop.layout===\"/rtl\"){return/*#__PURE__*/_jsx(Route,{path:prop.layout+prop.path,component:prop.component},key);}return null;}),/*#__PURE__*/_jsx(Redirect,{from:\"/rtl\",to:\"/rtl/rtl-page\"})]});const handleImageClick=image=>setImage(image);const handleColorClick=color=>setColor(color);const handleFixedClick=()=>setFixedClasses(fixedClasses===\"dropdown\"?\"dropdown show\":\"dropdown\");const handleDrawerToggle=()=>setMobileOpen(!mobileOpen);const getRoute=()=>window.location.pathname!==\"/admin/maps\";const resizeFunction=()=>{if(window.innerWidth>=960)setMobileOpen(false);};React.useEffect(()=>{if(navigator.platform.indexOf(\"Win\")>-1){ps=new PerfectScrollbar(mainPanel.current,{suppressScrollX:true,suppressScrollY:false});document.body.style.overflow=\"hidden\";}window.addEventListener(\"resize\",resizeFunction);return()=>{if(navigator.platform.indexOf(\"Win\")>-1){ps.destroy();}window.removeEventListener(\"resize\",resizeFunction);};},[mainPanel]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/_jsx(Sidebar,{routes:routes,logoText:\"الإبداعية تيم\",logo:logo,image:image,handleDrawerToggle:handleDrawerToggle,open:mobileOpen,color:color,rtlActive:true,...rest}),/*#__PURE__*/_jsxs(\"div\",{className:classes.mainPanel,ref:mainPanel,children:[/*#__PURE__*/_jsx(Navbar,{routes:routes,handleDrawerToggle:handleDrawerToggle,rtlActive:true,...rest}),getRoute()?/*#__PURE__*/_jsx(\"div\",{className:classes.content,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:switchRoutes})}):/*#__PURE__*/_jsx(\"div\",{className:classes.map,children:switchRoutes}),getRoute()?/*#__PURE__*/_jsx(Footer,{}):null,/*#__PURE__*/_jsx(FixedPlugin,{handleImageClick:handleImageClick,handleColorClick:handleColorClick,bgColor:color,bgImage:image,handleFixedClick:handleFixedClick,fixedClasses:fixedClasses,rtlActive:true})]})]});}","map":{"version":3,"names":["React","Switch","Route","Redirect","PerfectScrollbar","makeStyles","Navbar","Footer","Sidebar","FixedPlugin","getRoutesByRole","styles","bgImage","logo","jsx","_jsx","jsxs","_jsxs","ps","useStyles","RTL","_ref","rest","classes","mainPanel","createRef","image","setImage","useState","color","setColor","fixedClasses","setFixedClasses","mobileOpen","setMobileOpen","role","sessionStorage","getItem","routes","switchRoutes","children","map","prop","key","layout","path","component","from","to","handleImageClick","handleColorClick","handleFixedClick","handleDrawerToggle","getRoute","window","location","pathname","resizeFunction","innerWidth","useEffect","navigator","platform","indexOf","current","suppressScrollX","suppressScrollY","document","body","style","overflow","addEventListener","destroy","removeEventListener","className","wrapper","logoText","open","rtlActive","ref","content","container","bgColor"],"sources":["/Users/anjanyelle/Desktop/copy/tax_service/src/layouts/RTL.js"],"sourcesContent":["import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport PerfectScrollbar from \"perfect-scrollbar\";\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Navbar from \"components/Navbars/Navbar.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\nimport FixedPlugin from \"components/FixedPlugin/FixedPlugin.js\";\n\nimport { getRoutesByRole } from \"routes\"; // ✅ Dynamic role-based routes\n\nimport styles from \"assets/jss/material-dashboard-react/layouts/rtlStyle.js\";\nimport bgImage from \"assets/img/sidebar-2.jpg\";\nimport logo from \"assets/img/reactlogo.png\";\n\nlet ps;\n\nconst useStyles = makeStyles(styles);\n\nexport default function RTL({ ...rest }) {\n  const classes = useStyles();\n  const mainPanel = React.createRef();\n  const [image, setImage] = React.useState(bgImage);\n  const [color, setColor] = React.useState(\"blue\");\n  const [fixedClasses, setFixedClasses] = React.useState(\"dropdown show\");\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const role = sessionStorage.getItem(\"userRole\") || \"employee\"; // default fallback\n  const routes = getRoutesByRole(role); // ✅ Role-based routes\n\n  const switchRoutes = (\n    <Switch>\n      {routes.map((prop, key) => {\n        if (prop.layout === \"/rtl\") {\n          return (\n            <Route\n              path={prop.layout + prop.path}\n              component={prop.component}\n              key={key}\n            />\n          );\n        }\n        return null;\n      })}\n      <Redirect from=\"/rtl\" to=\"/rtl/rtl-page\" />\n    </Switch>\n  );\n\n  const handleImageClick = (image) => setImage(image);\n  const handleColorClick = (color) => setColor(color);\n  const handleFixedClick = () =>\n    setFixedClasses(fixedClasses === \"dropdown\" ? \"dropdown show\" : \"dropdown\");\n  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);\n\n  const getRoute = () => window.location.pathname !== \"/admin/maps\";\n\n  const resizeFunction = () => {\n    if (window.innerWidth >= 960) setMobileOpen(false);\n  };\n\n  React.useEffect(() => {\n    if (navigator.platform.indexOf(\"Win\") > -1) {\n      ps = new PerfectScrollbar(mainPanel.current, {\n        suppressScrollX: true,\n        suppressScrollY: false,\n      });\n      document.body.style.overflow = \"hidden\";\n    }\n    window.addEventListener(\"resize\", resizeFunction);\n    return () => {\n      if (navigator.platform.indexOf(\"Win\") > -1) {\n        ps.destroy();\n      }\n      window.removeEventListener(\"resize\", resizeFunction);\n    };\n  }, [mainPanel]);\n\n  return (\n    <div className={classes.wrapper}>\n      <Sidebar\n        routes={routes}\n        logoText={\"الإبداعية تيم\"}\n        logo={logo}\n        image={image}\n        handleDrawerToggle={handleDrawerToggle}\n        open={mobileOpen}\n        color={color}\n        rtlActive\n        {...rest}\n      />\n      <div className={classes.mainPanel} ref={mainPanel}>\n        <Navbar\n          routes={routes}\n          handleDrawerToggle={handleDrawerToggle}\n          rtlActive\n          {...rest}\n        />\n        {getRoute() ? (\n          <div className={classes.content}>\n            <div className={classes.container}>{switchRoutes}</div>\n          </div>\n        ) : (\n          <div className={classes.map}>{switchRoutes}</div>\n        )}\n        {getRoute() ? <Footer /> : null}\n        <FixedPlugin\n          handleImageClick={handleImageClick}\n          handleColorClick={handleColorClick}\n          bgColor={color}\n          bgImage={image}\n          handleFixedClick={handleFixedClick}\n          fixedClasses={fixedClasses}\n          rtlActive\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}